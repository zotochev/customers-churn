# customers-churn

Кейс: «Прогнозирование оттока клиентов»

Проект разбит на 3 части:
* Модель
* Сервер
* Клиент

## Модель  
jupiter-notebook который подготавливает исходный датафрейм к обучению, а также создаёт файл `model.pkl` с обученной моделью

## Сервер  
Приложение на основе фреймворка `Flask`. Приложение является API-сервисом, который при запуске его на локальной машине работает по адресу `http://localhost:5001`.
Даннай сервис принимает POST запросы с данными в формате JSON. Данные для отправки подготавливают следующим образом:  
```
data = csv_data.to_json(orient="split")  
r = requests.post(url, data=json.dumps(data), headers=headers)
```
Сервер разворачивает в docker-контейнере для запуска необходимо выполнить команду (sudo опционально, используется только в случаях когда команды для работы с докером требуют данных разрешений):
```
[sudo] sh start.sh
```

## Клиент  
Приложение для подготовки и отправки данных на запущенный сервер. Запускается следующим образом:  
`python3 client.py "http://localhost:5001" data_to_predict.csv`
